## 1. 使用说明

### 1.1 运行脚本

要运行 `test_YOLO.py`，请确保已经下载了所需的模型权重文件并将其放在正确的路径。使用以下命令运行脚本：

```bash
python test_YOLO.py
```
对于输出结果，会有绿色的框进行框选，并打上标签，框选的线条的粗细和标签的字体大小均可修改，具体修改方法如下：

- **修改框选线条的粗细**：在代码中找到 `draw.rectangle([x1, y1, x2, y2], outline=(0, 255, 0), width=4)`，将 `width` 参数修改为你想要的值即可调整框选线条的粗细。

- **修改标签的字体大小**：在代码中找到 `font = ImageFont.truetype("simsun.ttc", 15)`，将字体大小参数 `15` 修改为你想要的值即可调整标签的字体大小。

### 1.2 输入图像路径

脚本中默认的输入图像路径为 `dataset/test_CLIP_1.jpg`，你可以修改该路径以使用不同的图像作为输入。

## 2. 代码逻辑概述

- **设置设备**：
  脚本会自动选择GPU或CPU作为运行设备。

- **加载模型**：
  使用 `open_clip` 加载CLIP模型，并加载微调后的权重文件 `fine_tuned_clip_model.pth`。
  使用 `ultralytics` 加载 YOLOv8 模型 `yolov10s.pt`。

- **检测和分类**：
  使用YOLO对图像进行初步检测，获取目标区域的边界框和初步类别。
  使用CLIP对每个候选区域进行分类，以获取更细致的类别信息。
  在图像上绘制检测框和最终的类别标签。

- **结果可视化**：
  将结果图像显示在OpenCV窗口中，包含检测框和类别标签。

## 3. 注意事项

- **模型权重**：确保 `fine_tuned_clip_model.pth` 和 `yolov10s.pt` 模型权重文件在脚本运行前已经下载并放置在指定路径。
- **字体文件**：脚本中使用了 `simsun.ttc` 字体文件以支持中文标签显示，请确保系统中有该字体文件，或将其替换为其他可用字体。
- **CUDA**：如果系统支持GPU (CUDA)，脚本会自动使用GPU来加速推理。

